<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:models="clr-namespace:UnityProjectPlugin.Models"
             mc:Ignorable="d" d:DesignWidth="600" d:DesignHeight="400"
             x:Class="UnityProjectPlugin.Views.GroupManagementView">

    <StackPanel Spacing="12">
        <!-- 标题 -->
        <TextBlock Text="分组管理"
                   FontSize="16"
                   FontWeight="Bold"
                   Margin="0,0,0,8"/>

        <!-- 工具栏 -->
        <StackPanel Orientation="Horizontal" Spacing="8">
            <Button Content="添加分组"
                    Name="AddGroupButton"
                    Padding="12,6"/>
        </StackPanel>

        <!-- 分组列表 -->
        <Border BorderThickness="1"
                BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                CornerRadius="4"
                MinHeight="200">
            <ListBox Name="GroupsListBox"
                     ItemsSource="{Binding Groups}"
                     SelectionMode="Single">
                <ListBox.ItemTemplate>
                    <DataTemplate DataType="models:ProjectGroup">
                        <Grid ColumnDefinitions="*,Auto,Auto,Auto" Margin="8,4">
                            <!-- 分组信息 -->
                            <StackPanel Grid.Column="0" Spacing="4">
                                <TextBlock Text="{Binding Name}"
                                          FontWeight="SemiBold"
                                          FontSize="14"/>
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <TextBlock FontSize="11" Opacity="0.6">
                                        <Run Text="创建时间: "/>
                                        <Run Text="{Binding CreatedTime, StringFormat='{}{0:yyyy-MM-dd}'}"/>
                                    </TextBlock>
                                </StackPanel>
                            </StackPanel>

                            <!-- 使用数量 -->
                            <TextBlock Grid.Column="1"
                                      Name="UsageCount"
                                      VerticalAlignment="Center"
                                      Margin="0,0,16,0"
                                      Opacity="0.7"
                                      FontSize="12"/>

                            <!-- 操作按钮 -->
                            <Button Grid.Column="2"
                                    Content="编辑"
                                    Name="EditButton"
                                    Padding="12,4"
                                    Margin="0,0,8,0"
                                    Click="EditButton_Click"/>
                            <Button Grid.Column="3"
                                    Content="删除"
                                    Name="DeleteButton"
                                    Padding="12,4"
                                    Click="DeleteButton_Click"/>
                        </Grid>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </Border>

        <!-- 空状态提示 -->
        <TextBlock Name="EmptyStateText"
                  Text="暂无分组，点击上方按钮添加分组"
                  FontSize="12"
                  Opacity="0.5"
                  HorizontalAlignment="Center"
                  Margin="0,16,0,0"/>
    </StackPanel>
</UserControl>

